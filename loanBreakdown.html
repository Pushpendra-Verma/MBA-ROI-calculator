<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Education Loan Calculator</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="loanBreakdown.css" />
</head>

<body>
    <div class="container">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <h3>LOAN INPUT PARAMETERS</h3>
            <h6><i>Only enable toggle for which term you are planning to take loan</i></h6>
            <div class="toggle-group">
                <label for="csis-toggle">CSIS Scheme</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="csis-toggle" checked onchange="toggleCSIS()">
                    <span class="slider"></span>
                    <span class="toggle-label paid">Off</span>
                    <span class="toggle-label loan">On</span>
                </label>
            </div>
            <div class="input-group csis-related">
                <label for="moratorium-months">Moratorium (Months)</label>
                <input type="number" id="moratorium-months" value="36" oninput="debouncedCalculateLoan()">
            </div>
            <div class="input-group">
                <label for="term1-fee">Term 1 Fee (₹)</label>
                <div class="input-row">
                    <input type="number" id="term1-fee" value="420000" oninput="debouncedCalculateLoan()">
                    <div class="term-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="term1-toggle" checked onchange="toggleTermPayment(1)">
                            <span class="slider"></span>
                            <span class="toggle-label paid">Paid</span>
                            <span class="toggle-label loan">Loan</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="term2-fee">Term 2 Fee (₹)</label>
                <div class="input-row">
                    <input type="number" id="term2-fee" value="340000" oninput="debouncedCalculateLoan()">
                    <div class="term-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="term2-toggle" checked onchange="toggleTermPayment(2)">
                            <span class="slider"></span>
                            <span class="toggle-label paid">Paid</span>
                            <span class="toggle-label loan">Loan</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="term3-fee">Term 3 Fee (₹)</label>
                <div class="input-row">
                    <input type="number" id="term3-fee" value="340000" oninput="debouncedCalculateLoan()">
                    <div class="term-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="term3-toggle" checked onchange="toggleTermPayment(3)">
                            <span class="slider"></span>
                            <span class="toggle-label paid">Paid</span>
                            <span class="toggle-label loan">Loan</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="term4-fee">Term 4 Fee (₹)</label>
                <div class="input-row">
                    <input type="number" id="term4-fee" value="370000" oninput="debouncedCalculateLoan()">
                    <div class="term-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="term4-toggle" checked onchange="toggleTermPayment(4)">
                            <span class="slider"></span>
                            <span class="toggle-label paid">Paid</span>
                            <span class="toggle-label loan">Loan</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="term5-fee">Term 5 Fee (₹)</label>
                <div class="input-row">
                    <input type="number" id="term5-fee" value="340000" oninput="debouncedCalculateLoan()">
                    <div class="term-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="term5-toggle" checked onchange="toggleTermPayment(5)">
                            <span class="slider"></span>
                            <span class="toggle-label paid">Paid</span>
                            <span class="toggle-label loan">Loan</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="term6-fee">Term 6 Fee (₹)</label>
                <div class="input-row">
                    <input type="number" id="term6-fee" value="340000" oninput="debouncedCalculateLoan()">
                    <div class="term-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="term6-toggle" checked onchange="toggleTermPayment(6)">
                            <span class="slider"></span>
                            <span class="toggle-label paid">Paid</span>
                            <span class="toggle-label loan">Loan</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="interest-rate">Loan Interest Rate (%)</label>
                <input type="number" id="interest-rate" value="7.6" step="0.1" oninput="debouncedCalculateLoan()">
            </div>
            <div class="input-group">
                <label for="repayment-months">Repayment-Post Morotorium (Months)</label>
                <input type="number" id="repayment-months" value="60" oninput="debouncedCalculateLoan()">
            </div>
        </div>

        <!-- Right Content -->
        <div class="content">
            <h1>EDUCATION LOAN CALCULATOR</h1>
            <table class="result-table">
                <thead>
                    <tr>
                        <th id="result-table-title">Results (With CSIS, All Loan)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Loan Amount (₹): <span id="loan-amount"></span></td>
                    </tr>
                    <tr class="csis-related">
                        <td>Interest During Moratorium (₹): <span id="interest-moratorium"></span></td>
                    </tr>
                    <tr class="csis-related">
                        <td>Total Principal After Moratorium (₹): <span id="principal-after"></span></td>
                    </tr>
                    <tr>
                        <td>Monthly EMI (₹): <span id="monthly-emi"></span></td>
                    </tr>
                    <tr>
                        <td>Total Repayment (₹): <span id="total-repayment"></span></td>
                    </tr>
                    <tr>
                        <td>Total Interest Paid (₹): <span id="total-interest"></span></td>
                    </tr>
                    <tr>
                        <td>Total Cost (₹): <span id="total-cost"></span></td>
                    </tr>
                    <tr class="csis-related">
                        <td>Savings with CSIS (₹): <span id="savings"></span></td>
                    </tr>
                </tbody>
            </table>

            <!-- Pie Chart -->
            <div class="chart-container">
                <canvas id="loanBreakdownChart"></canvas>
            </div>
        </div>
    </div>

    <script src="loanBreakdown.js"></script>
</body>

</html>
